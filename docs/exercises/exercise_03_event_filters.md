# 실습 7: Event Filters와 Activity Types

## 목표

GitHub Actions의 event filter와 activity type을 활용하여 워크플로우를 더 효율적으로 제어하는 방법을 학습합니다.

## 준비사항

- GitHub 저장소 접근 권한
- 기본적인 YAML 문법 이해
- 이전 실습 완료

## 실습 1: Push 이벤트 필터링

### 문제

프로젝트에서 `src/` 폴더의 코드가 변경되었을 때만 테스트를 실행하는 워크플로우를 작성하세요.

**요구사항:**

- `src/**` 경로의 파일이 변경될 때만 실행
- `main`과 `develop` 브랜치에서만 실행
- 테스트 실행 후 결과를 출력

### 힌트

```yaml
on:
  push:
    paths:
      - "src/**"
    branches:
      - main
      - develop
```

## 실습 2: Pull Request Activity Types

### 문제

Pull Request의 특정 활동에 따라 다른 작업을 수행하는 워크플로우를 작성하세요.

**요구사항:**

- PR이 열릴 때: 테스트 실행
- PR에 새로운 커밋이 푸시될 때: 테스트 실행
- PR이 닫힐 때: 정리 작업 수행 (예: 임시 파일 삭제)

### 힌트

```yaml
on:
  pull_request:
    types: [opened, synchronize, closed]
    branches: [main]
```

## 실습 3: 경로별 다른 워크플로우

### 문제

다음 조건을 만족하는 워크플로우를 작성하세요:

1. **프론트엔드 변경 시**: 테스트 실행 → 빌드 → 아티팩트 저장
2. **백엔드 변경 시**: 테스트 실행 → 보안 스캔
3. **설정 파일 변경 시**: 검증만 실행

**파일 구조:**

- `src/frontend/**` - 프론트엔드 코드
- `src/backend/**` - 백엔드 코드
- `config/**` - 설정 파일

### 힌트

각 경로별로 별도의 워크플로우 파일을 만드세요.

## 실습 4: 브랜치별 다른 워크플로우

### 문제

브랜치에 따라 다른 동작을 수행하는 워크플로우를 작성하세요.

**요구사항:**

- `feature/*` 브랜치: 테스트만 실행
- `develop` 브랜치: 테스트 + 빌드 + 스테이징 배포
- `main` 브랜치: 테스트 + 빌드 + 프로덕션 배포

### 힌트

각 브랜치별로 별도의 워크플로우 파일을 만드세요.

## 실습 5: 수동 실행 워크플로우

### 문제

수동으로 실행할 수 있는 배포 워크플로우를 작성하세요.

**요구사항:**

- `workflow_dispatch` 이벤트 사용
- 환경 선택 옵션 제공 (staging, production)
- 선택한 환경에 배포하는 작업 수행

### 힌트

```yaml
on:
  workflow_dispatch:
```

## 추가 도전 과제

### 도전 과제 1: 스케줄링 워크플로우

매주 일요일 새벽 2시에 실행되는 유지보수 워크플로우를 작성하세요.

### 도전 과제 2: 복합 이벤트 워크플로우

Push와 Pull Request 이벤트를 모두 처리하는 워크플로우를 작성하세요.

### 도전 과제 3: 파일 확장자 필터링

특정 파일 확장자(`.js`, `.ts`, `.jsx`, `.tsx`)가 변경되었을 때만 실행되는 워크플로우를 작성하세요.
