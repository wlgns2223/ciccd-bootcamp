name: CI Pipeline

# Workflowê°€ ì‹¤í–‰ë  ì¡°ê±´
on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

# ì‹¤í–‰í•  ì‘ì—…ë“¤
jobs:
  # í…ŒìŠ¤íŠ¸ ë° ë¹Œë“œ ì‘ì—…
  test-and-build:
    # ì‹¤í–‰í•  í™˜ê²½ (Ubuntu ìµœì‹  ë²„ì „)
    runs-on: ubuntu-latest

    # ì‘ì—… ë‹¨ê³„ë“¤
    steps:
      # 1ë‹¨ê³„: ì½”ë“œ ì²´í¬ì•„ì›ƒ
      - name: Checkout code
        uses: actions/checkout@v4

      # 2ë‹¨ê³„: Node.js ì„¤ì •
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: "20"

      # 3ë‹¨ê³„: ì˜ì¡´ì„± ì„¤ì¹˜
      - name: Install dependencies
        run: npm ci

      # 4ë‹¨ê³„: ë¦°íŠ¸ ê²€ì‚¬
      - name: Run linting
        run: npm run lint

      - name: Run tests
        run: npm run test

      # 5ë‹¨ê³„: ë¹Œë“œ í…ŒìŠ¤íŠ¸
      - name: Build application
        run: npm run build

      # 6ë‹¨ê³„: ì„±ê³µ ë©”ì‹œì§€ ì¶œë ¥
      - name: Success message
        run: echo "ğŸ‰ CI Pipeline completed successfully!"
